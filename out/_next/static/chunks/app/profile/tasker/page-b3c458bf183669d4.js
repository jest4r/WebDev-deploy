(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3230],{93664:function(e,a,s){Promise.resolve().then(s.bind(s,16361))},16361:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return g}});var t=s(57437),l=s(26436),n=s(2265),r=s(3803),o=s(70273),i=s(1077),c=s(42228),d=s(99394),u=s(62127),m=s(80572),h=s(2694),f=e=>{let{label:a,defaultValue:s=[]}=e,[l,r]=(0,n.useState)(!1),[o,i]=(0,n.useState)(""),[f,b]=(0,n.useState)(s),v=e=>{b(f.filter(a=>a!==e))};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.Y,{label:a,value:o,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&""!==o.trim()&&(e.preventDefault(),f.includes(o.trim())||b([...f,o.trim()]),i(""))},isDisabled:!l,className:"mt-2"}),(0,t.jsx)(d.A,{isIconOnly:!0,startContent:l?(0,t.jsx)(m.Z,{size:16}):(0,t.jsx)(h.Z,{size:16}),onPress:()=>{r(!l)},"aria-label":l?"Save":"Edit"})]}),(0,t.jsx)("div",{className:"flex flex-wrap mt-2 gap-2",children:f.map(e=>(0,t.jsx)(u.z,{variant:"solid",color:"default",onClose:()=>v(e),className:"flex items-center",children:e},e))})]})},b=s(41436),v=s(61915),x=s(50835),g=()=>{var e,a,s,d,u,m,h,g;let[p,j]=(0,n.useState)(null),{user:w}=(0,x.CG)(e=>e.auth);return(0,t.jsx)(v.ProtectedRoute,{children:(0,t.jsxs)("div",{className:"flex flex-col items-center bg-gray-100 p-4 min-h-screen",children:[(0,t.jsxs)("div",{className:"bg-white shadow-sm mt-2 p-10 rounded-md w-full",children:[(0,t.jsx)(b.Z,{}),(0,t.jsx)("div",{className:"flex justify-center shadow-sm p-6 rounded-lg",children:(0,t.jsx)(l.Z,{avatarUrl:p,onFileSelect:e=>{j(URL.createObjectURL(e))}})}),(0,t.jsxs)("div",{className:"gap-8 grid grid-cols-1 md:grid-cols-2 bg-white shadow-sm p-12 rounded-md",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(o.Z,{type:"text",label:"Name",defaultValue:"".concat(null!==(h=null==w?void 0:w.profile.first_name)&&void 0!==h?h:""," ").concat(null!==(g=null==w?void 0:w.profile.last_name)&&void 0!==g?g:"").trim()}),(0,t.jsx)(o.Z,{type:"email",label:"Email",defaultValue:(null==w?void 0:w.email)||""}),(0,t.jsx)(o.Z,{type:"text",label:"Phone Number",defaultValue:(null==w?void 0:w.profile.phone_number)||""}),(0,t.jsx)(o.Z,{type:"text",label:"Work Area",defaultValue:(null==w?void 0:null===(e=w.tasker)||void 0===e?void 0:e.work_area)||""}),(0,t.jsx)(c.Y,{isDisabled:!0,type:"text",label:"Completed Tasks",defaultValue:(null==w?void 0:null===(a=w.tasker)||void 0===a?void 0:a.completed_tasks.toString())||""})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(f,{label:"Skills",defaultValue:(null==w?void 0:null===(s=w.tasker)||void 0===s?void 0:s.skills.map(e=>e.name))||[]}),(0,t.jsx)(i.Z,{type:"text",label:"Experience",defaultValue:(null==w?void 0:null===(d=w.tasker)||void 0===d?void 0:d.experience)||""}),(0,t.jsx)(c.Y,{isDisabled:!0,type:"text",label:"Average Rating",defaultValue:(null==w?void 0:null===(u=w.tasker)||void 0===u?void 0:u.avg_rating.toString())||""}),(0,t.jsx)(c.Y,{isDisabled:!0,type:"text",label:"Rating Count",defaultValue:(null==w?void 0:null===(m=w.tasker)||void 0===m?void 0:m.rating_count.toString())||""})]})]})]}),(0,t.jsxs)("div",{className:"bg-white shadow-md mx-auto mt-12 p-6 rounded-lg w-full",children:[(0,t.jsx)("h2",{className:"mb-4 font-semibold text-2xl text-black text-center",children:"CUSTOMER REVIEWS"}),(0,t.jsx)(r.Z,{})]})]})})}},47043:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(57437),l=s(1377);function n(){return(0,t.jsx)("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50",children:(0,t.jsx)(l.c,{size:"lg",color:"success",label:"Loading..."})})}},26436:function(e,a,s){"use strict";var t=s(57437),l=s(34778),n=s(53581),r=s(2265);a.Z=e=>{let{avatarUrl:a,onFileSelect:s}=e,o=(0,r.useRef)(null);return(0,t.jsxs)("div",{className:"relative group ",children:[(0,t.jsx)(l.h,{className:"w-32 h-32",showFallback:!0,src:a||void 0}),(0,t.jsx)("button",{onClick:()=>{var e;null===(e=o.current)||void 0===e||e.click()},className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-full",type:"button",children:(0,t.jsx)(n.Z,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("input",{ref:o,type:"file",accept:"image/*",onChange:e=>{var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];t&&s(t)},className:"hidden"})]})}},70273:function(e,a,s){"use strict";var t=s(57437),l=s(2265),n=s(42228),r=s(99394),o=s(80572),i=s(2694);a.Z=e=>{let{label:a,type:s,defaultValue:c}=e,[d,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(c||"");return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Y,{label:a,type:s,value:m,onChange:e=>{h(e.target.value)},isDisabled:!d,fullWidth:!0}),(0,t.jsx)(r.A,{isIconOnly:!0,startContent:d?(0,t.jsx)(o.Z,{size:16}):(0,t.jsx)(i.Z,{size:16}),onClick:()=>{u(!d)},"aria-label":d?"Save":"Edit"})]})}},1077:function(e,a,s){"use strict";var t=s(57437),l=s(2265),n=s(9182),r=s(99394),o=s(80572),i=s(2694);a.Z=e=>{let{label:a,type:s,defaultValue:c}=e,[d,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(c||"");return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Y,{label:a,type:s,value:m,onChange:e=>{h(e.target.value)},isDisabled:!d,fullWidth:!0}),(0,t.jsx)(r.A,{isIconOnly:!0,startContent:d?(0,t.jsx)(o.Z,{size:16}):(0,t.jsx)(i.Z,{size:16}),onClick:()=>{u(!d)},"aria-label":d?"Save":"Edit"})]})}},41436:function(e,a,s){"use strict";var t=s(57437),l=s(25151),n=s.n(l),r=s(99394),o=s(99376);a.Z=()=>{let e=(0,o.useRouter)(),a="/profile/tasker"===(0,o.usePathname)();return(0,t.jsx)("div",{className:"w-full bg-white rounded-lg shadow-sm p-4",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-8",children:[(0,t.jsx)("h1",{className:"".concat(n().className," text-4xl text-green-500 font-semibold"),children:"MY PROFILE"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-8",children:[(0,t.jsx)(r.A,{radius:"md",color:"success",variant:"solid",className:"".concat(n().className," text-lg text-white"),onClick:()=>e.push(a?"/profile":"/profile/tasker"),children:a?"Change to Customer Profile":"Change to Tasker Profile"}),(0,t.jsx)(r.A,{radius:"md",color:"success",variant:"solid",className:"".concat(n().className," text-lg text-white"),onClick:()=>e.push("./"),children:"Save Changes"}),(0,t.jsx)(r.A,{radius:"md",color:"danger",variant:"bordered",className:"".concat(n().className," text-lg text-red-600"),children:"Delete Profile"})]})]})})}},3803:function(e,a,s){"use strict";var t=s(57437);s(2265);var l=s(8627),n=s(4922),r=s(99008),o=s(49089);let i=[{id:1,name:"John Doe",rating:5,comment:"Excellent behavior! Great!",date:"September 15, 2023"},{id:2,name:"Jane Smith",rating:4,comment:"Very professional.",date:"September 10, 2023"},{id:3,name:"Michael Brown",rating:5,comment:"Highly recommended!",date:"September 5, 2023"}];a.Z=()=>(0,t.jsxs)("div",{className:"text-black",children:[(0,t.jsx)(l.q,{x:4}),i.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)(n.w,{className:"text-black",children:(0,t.jsxs)(r.G,{children:[(0,t.jsx)("strong",{children:e.name}),(0,t.jsx)("p",{children:e.date}),(0,t.jsx)(l.q,{y:.5}),(0,t.jsx)("div",{className:"flex items-center text-black",children:[void 0,void 0,void 0,void 0,void 0].map((a,s)=>(0,t.jsx)(o.QJe,{size:20,color:s<e.rating?"#f5a623":"#e4e4e4"},s))}),(0,t.jsx)(l.q,{y:.5}),(0,t.jsx)("p",{children:e.comment})]})}),(0,t.jsx)(l.q,{x:4})]},e.id))]})},61915:function(e,a,s){"use strict";s.d(a,{ProtectedRoute:function(){return i}});var t=s(57437),l=s(50835),n=s(99376),r=s(2265),o=s(47043);function i(e){let{children:a}=e,{isAuthenticated:s,user:i}=(0,l.CG)(e=>e.auth),c=(0,n.useRouter)(),d=(0,n.usePathname)(),u=["/admin","/admin/users","/admin/tasks","/admin/monitor"],{isTasker:m}=(0,l.CG)(e=>e.auth);return((0,r.useEffect)(()=>{if(s){let e=window.location.pathname;!m&&["/tasks","/taskmanage"].includes(e)&&c.replace("/becometasker")}else c.replace("/login");if(u.some(e=>d.startsWith(e))&&(null==i?void 0:i.role)!=="ADMIN"){c.replace("/");return}if((null==i?void 0:i.role)==="ADMIN"&&"/"===d){c.replace("/admin");return}},[s,i,d,c]),!s||u.some(e=>d.startsWith(e))&&(null==i?void 0:i.role)!=="ADMIN")?(0,t.jsx)(o.Z,{}):a}},11002:function(e,a,s){"use strict";s.d(a,{Dj:function(){return l},UR:function(){return o},YA:function(){return i},kS:function(){return n},uJ:function(){return r}});let t=(0,s(1455).oM)({name:"auth",initialState:{user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isTasker:!1},reducers:{setCredentials:(e,a)=>{let{user:s,token:t}=a.payload;e.user=s,e.accessToken=t.access_token,e.refreshToken=t.refresh_token,e.isAuthenticated=!0,s.tasker&&(e.isTasker=!0),localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("isTasker",e.isTasker.toString()),localStorage.setItem("accessToken",t.access_token),localStorage.setItem("refreshToken",t.refresh_token)},setisTaskers:(e,a)=>{e.isTasker=a.payload,localStorage.setItem("isTasker","true")},logout:e=>{e.user=null,e.accessToken=null,e.refreshToken=null,e.isTasker=!1,e.isAuthenticated=!1,localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("isTasker")},loginFailure:e=>{console.log("Login failed"),e.isAuthenticated=!1},initializeAuth:e=>{try{let a=localStorage.getItem("user"),s=localStorage.getItem("accessToken"),t=localStorage.getItem("refreshToken"),l=localStorage.getItem("isTasker");a&&s&&t?(e.user=JSON.parse(a),e.accessToken=s,e.refreshToken=t,e.isAuthenticated=!0):e.isAuthenticated=!1,(null==l?void 0:l.toString())==="true"&&(e.isTasker="true"===l)}catch(a){console.error("Error initializing auth from localStorage:",a),e.isAuthenticated=!1}}}}),{setCredentials:l,logout:n,initializeAuth:r,loginFailure:o,setisTaskers:i}=t.actions;a.ZP=t.reducer},50835:function(e,a,s){"use strict";s.d(a,{CG:function(){return i},TL:function(){return o},h:function(){return r}});var t=s(1455),l=s(68575),n=s(11002);let r=(0,t.xC)({reducer:{auth:n.ZP},middleware:e=>e({serializableCheck:!1})}),o=l.I0,i=l.v9},62127:function(e,a,s){"use strict";s.d(a,{z:function(){return g}});var t=s(72243),l=s(82457),n=s(67683),r=s(73709),o=s(41351),i=s(12813),c=s(18373),d=(0,i.tv)({slots:{base:["relative","max-w-fit","min-w-min","inline-flex","items-center","justify-between","box-border","whitespace-nowrap"],content:"flex-1 text-inherit font-normal",dot:["w-2","h-2","ml-1","rounded-full"],avatar:"flex-shrink-0",closeButton:["z-10","appearance-none","outline-none","select-none","transition-opacity","opacity-70","hover:opacity-100","cursor-pointer","active:opacity-disabled","tap-highlight-transparent"]},variants:{variant:{solid:{},bordered:{base:"border-medium bg-transparent"},light:{base:"bg-transparent"},flat:{},faded:{base:"border-medium"},shadow:{},dot:{base:"border-medium border-default text-foreground bg-transparent"}},color:{default:{dot:"bg-default-400"},primary:{dot:"bg-primary"},secondary:{dot:"bg-secondary"},success:{dot:"bg-success"},warning:{dot:"bg-warning"},danger:{dot:"bg-danger"}},size:{sm:{base:"px-1 h-6 text-tiny",content:"px-1",closeButton:"text-medium",avatar:"w-4 h-4"},md:{base:"px-1 h-7 text-small",content:"px-2",closeButton:"text-large",avatar:"w-5 h-5"},lg:{base:"px-2 h-8 text-medium",content:"px-2",closeButton:"text-xl",avatar:"w-6 h-6"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isCloseButtonFocusVisible:{true:{closeButton:[...c.jR,"ring-1","rounded-full"]}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:o.J.solid.default}},{variant:"solid",color:"primary",class:{base:o.J.solid.primary}},{variant:"solid",color:"secondary",class:{base:o.J.solid.secondary}},{variant:"solid",color:"success",class:{base:o.J.solid.success}},{variant:"solid",color:"warning",class:{base:o.J.solid.warning}},{variant:"solid",color:"danger",class:{base:o.J.solid.danger}},{variant:"shadow",color:"default",class:{base:o.J.shadow.default}},{variant:"shadow",color:"primary",class:{base:o.J.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:o.J.shadow.secondary}},{variant:"shadow",color:"success",class:{base:o.J.shadow.success}},{variant:"shadow",color:"warning",class:{base:o.J.shadow.warning}},{variant:"shadow",color:"danger",class:{base:o.J.shadow.danger}},{variant:"bordered",color:"default",class:{base:o.J.bordered.default}},{variant:"bordered",color:"primary",class:{base:o.J.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:o.J.bordered.secondary}},{variant:"bordered",color:"success",class:{base:o.J.bordered.success}},{variant:"bordered",color:"warning",class:{base:o.J.bordered.warning}},{variant:"bordered",color:"danger",class:{base:o.J.bordered.danger}},{variant:"flat",color:"default",class:{base:o.J.flat.default}},{variant:"flat",color:"primary",class:{base:o.J.flat.primary}},{variant:"flat",color:"secondary",class:{base:o.J.flat.secondary}},{variant:"flat",color:"success",class:{base:o.J.flat.success}},{variant:"flat",color:"warning",class:{base:o.J.flat.warning}},{variant:"flat",color:"danger",class:{base:o.J.flat.danger}},{variant:"faded",color:"default",class:{base:o.J.faded.default}},{variant:"faded",color:"primary",class:{base:o.J.faded.primary}},{variant:"faded",color:"secondary",class:{base:o.J.faded.secondary}},{variant:"faded",color:"success",class:{base:o.J.faded.success}},{variant:"faded",color:"warning",class:{base:o.J.faded.warning}},{variant:"faded",color:"danger",class:{base:o.J.faded.danger}},{variant:"light",color:"default",class:{base:o.J.light.default}},{variant:"light",color:"primary",class:{base:o.J.light.primary}},{variant:"light",color:"secondary",class:{base:o.J.light.secondary}},{variant:"light",color:"success",class:{base:o.J.light.success}},{variant:"light",color:"warning",class:{base:o.J.light.warning}},{variant:"light",color:"danger",class:{base:o.J.light.danger}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"sm",class:{base:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"md",class:{base:"w-6 h-6 min-w-6 min-h-6"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"lg",class:{base:"w-7 h-7 min-w-7 min-h-7"}},{isOneChar:!0,isCloseable:!1,hasStartContent:!1,hasEndContent:!1,class:{base:"px-0 justify-center",content:"px-0 flex-none"}},{isOneChar:!0,isCloseable:!0,hasStartContent:!1,hasEndContent:!1,class:{base:"w-auto"}},{isOneChar:!0,variant:"dot",class:{base:"w-auto h-7 px-1 items-center",content:"px-2"}},{hasStartContent:!0,size:"sm",class:{content:"pl-0.5"}},{hasStartContent:!0,size:["md","lg"],class:{content:"pl-1"}},{hasEndContent:!0,size:"sm",class:{content:"pr-0.5"}},{hasEndContent:!0,size:["md","lg"],class:{content:"pr-1"}}]}),u=s(88160),m=s(46763),h=s(68658),f=s(2265),b=s(93253),v=s(57437),x=(0,t.Gp)((e,a)=>{let{Component:s,children:o,slots:i,classNames:c,isDot:x,isCloseable:g,startContent:p,endContent:j,getCloseButtonProps:w,getChipProps:y}=function(e){let[a,s]=(0,t.oe)(e,d.variantKeys),{ref:o,as:i,children:c,avatar:b,startContent:v,endContent:x,onClose:g,classNames:p,className:j,...w}=a,y=(0,u.gy)(o),k=(0,m.W)(null==p?void 0:p.base,j),C=!!g,N="dot"===e.variant,{focusProps:S,isFocusVisible:J}=(0,r.F)(),E=(0,f.useMemo)(()=>"string"==typeof c&&(null==c?void 0:c.length)===1,[c]),T=(0,f.useMemo)(()=>!!b||!!v,[b,v]),z=(0,f.useMemo)(()=>!!x||C,[x,C]),I=(0,f.useMemo)(()=>d({...s,hasStartContent:T,hasEndContent:z,isOneChar:E,isCloseable:C,isCloseButtonFocusVisible:J}),[(0,h.Xx)(s),J,T,z,E,C]),{pressProps:Z}=(0,n.r)({isDisabled:!!(null==e?void 0:e.isDisabled),onPress:g}),A=e=>(0,f.isValidElement)(e)?(0,f.cloneElement)(e,{className:(0,m.W)("max-h-[80%]",e.props.className)}):null;return{Component:i||"div",children:c,slots:I,classNames:p,isDot:N,isCloseable:C,startContent:((0,f.isValidElement)(b)?(0,f.cloneElement)(b,{className:I.avatar({class:null==p?void 0:p.avatar})}):null)||A(v),endContent:A(x),getCloseButtonProps:()=>({role:"button",tabIndex:0,className:I.closeButton({class:null==p?void 0:p.closeButton}),"aria-label":"close chip",...(0,l.d)(Z,S)}),getChipProps:()=>({ref:y,className:I.base({class:k}),...w})}}({...e,ref:a}),k=(0,f.useMemo)(()=>x&&!p?(0,v.jsx)("span",{className:i.dot({class:null==c?void 0:c.dot})}):p,[i,p,x]),C=(0,f.useMemo)(()=>g?(0,v.jsx)("span",{...w(),children:j||(0,v.jsx)(b.f,{})}):j,[j,g,w]);return(0,v.jsxs)(s,{...y(),children:[k,(0,v.jsx)("span",{className:i.content({class:null==c?void 0:c.content}),children:o}),C]})});x.displayName="NextUI.Chip";var g=x},95278:function(e,a,s){"use strict";s.d(a,{b:function(){return l}});var t=s(40641);function l(e,a){let{id:s,"aria-label":l,"aria-labelledby":n}=e;return s=(0,t.Me)(s),n&&l?n=[...new Set([s,...n.trim().split(/\s+/)])].join(" "):n&&(n=n.trim().split(/\s+/).join(" ")),l||n||!a||(l=a),{id:s,"aria-label":l,"aria-labelledby":n}}},45614:function(e,a,s){"use strict";s.d(a,{z:function(){return l}});var t=s(2265);function l(e,a,s){let[l,n]=(0,t.useState)(e||a),r=(0,t.useRef)(void 0!==e),o=void 0!==e;(0,t.useEffect)(()=>{let e=r.current;e!==o&&console.warn(`WARN: A component changed from ${e?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}.`),r.current=o},[o]);let i=o?e:l,c=(0,t.useCallback)((e,...a)=>{let t=(e,...a)=>{s&&!Object.is(i,e)&&s(e,...a),o||(i=e)};"function"==typeof e?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),n((s,...l)=>{let n=e(o?i:s,...l);return(t(n,...a),o)?s:n})):(o||n(e),t(e,...a))},[o,i,s]);return[i,c]}}},function(e){e.O(0,[372,7699,707,7405,4218,9897,2572,2971,2117,1744],function(){return e(e.s=93664)}),_N_E=e.O()}]);