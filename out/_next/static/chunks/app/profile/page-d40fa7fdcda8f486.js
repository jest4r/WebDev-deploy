(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{94982:function(e,t,s){Promise.resolve().then(s.bind(s,6504))},6504:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var a=s(57437),l=s(2265),r=s(3803),n=s(70273),i=s(20847),o=s(19409),c=s(99394),u=s(80572),d=s(2694),m=e=>{let{label:t,options:s,defaultValue:r}=e,[n,m]=(0,l.useState)(!1),[h,x]=(0,l.useState)(r||"");return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.g,{label:t,selectionMode:"multiple",defaultSelectedKeys:h,onChange:e=>{x(e.target.value)},isDisabled:!n,fullWidth:!0,children:s.map(e=>(0,a.jsx)(o.R,{value:e.value,children:e.label},e.value))}),(0,a.jsx)(c.A,{isIconOnly:!0,startContent:n?(0,a.jsx)(u.Z,{size:16}):(0,a.jsx)(d.Z,{size:16}),onPress:()=>{m(!n)},"aria-label":n?"Save":"Edit"})]})},h=s(1077),x=s(58546),f=s(23614),v=s(54876),g=s(42228),j=s(8627),p=()=>{let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[o,u]=(0,l.useState)(""),d=async()=>{if(n!==o){alert("Password and confirm password do not match");return}};return(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)(x.j,{isOpen:e,onOpenChange:e=>t(e),placement:"right",children:[(0,a.jsx)(f.b,{children:(0,a.jsx)(c.A,{color:"success",variant:"flat",children:"Change Password"})}),(0,a.jsx)(v.g,{children:(0,a.jsxs)("div",{className:"px-4 py-3",children:[(0,a.jsx)(g.Y,{label:"Old Password",type:"password",value:s,onChange:e=>r(e.target.value)}),(0,a.jsx)(j.q,{y:1}),(0,a.jsx)(g.Y,{label:"New Password",type:"password",value:n,onChange:e=>i(e.target.value)}),(0,a.jsx)(j.q,{y:1}),(0,a.jsx)(g.Y,{label:"Confirm Password",type:"password",value:o,onChange:e=>u(e.target.value)}),(0,a.jsx)(j.q,{y:1}),(0,a.jsx)(c.A,{color:"primary",onClick:d,className:"w-full",children:"Submit"})]})})]})})},b=s(41436),k=s(50835),y=s(61915),S=s(26436),N=()=>{var e,t,s,i;let[o,c]=(0,l.useState)(null),{user:u}=(0,k.CG)(e=>e.auth);return(0,a.jsx)(y.ProtectedRoute,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center bg-gray-100 p-4 min-h-screen",children:[(0,a.jsxs)("div",{className:"bg-white shadow-sm mt-2 p-10 rounded-md w-full",children:[(0,a.jsx)(b.Z,{}),(0,a.jsx)("div",{className:"flex justify-center shadow-sm p-6 rounded-lg",children:(0,a.jsx)(S.Z,{avatarUrl:o,onFileSelect:e=>{e&&c(URL.createObjectURL(e))}})}),(0,a.jsxs)("div",{className:"gap-8 grid grid-cols-1 md:grid-cols-2 bg-white shadow-sm p-12 rounded-md",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(n.Z,{type:"text",label:"Name",defaultValue:"".concat(null!==(s=null==u?void 0:null===(e=u.profile)||void 0===e?void 0:e.first_name)&&void 0!==s?s:""," ").concat(null!==(i=null==u?void 0:null===(t=u.profile)||void 0===t?void 0:t.last_name)&&void 0!==i?i:"").trim()}),(0,a.jsx)(n.Z,{type:"email",label:"Email",defaultValue:(null==u?void 0:u.email)||""}),(0,a.jsx)(p,{}),(0,a.jsx)(n.Z,{type:"mobile",label:"Phone",defaultValue:(null==u?void 0:u.profile.phone_number)||""}),(0,a.jsx)(n.Z,{type:"text",label:"Date of Birth",defaultValue:(null==u?void 0:u.profile.birth_date)||""})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(n.Z,{type:"text",label:"Gender",defaultValue:(null==u?void 0:u.profile.gender)||""}),(0,a.jsx)(n.Z,{type:"link",label:"Social Media"}),(0,a.jsx)(m,{label:"Payment method",options:[{value:"credit_card",label:"Credit Card"},{value:"pay_pal",label:"PayPal"},{value:"bank_transfer",label:"Bank Transfer"},{value:"cash",label:"Cash"}],defaultValue:""}),(0,a.jsx)(h.Z,{type:"text",label:"Description",defaultValue:(null==u?void 0:u.profile.description)||""})]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow-md mx-auto mt-12 p-6 rounded-lg w-full",children:[(0,a.jsx)("h2",{className:"mb-4 font-semibold text-2xl text-black text-center",children:"TASKER REVIEWS"}),(0,a.jsx)(r.Z,{})]})]})})}},47043:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(57437),l=s(1377);function r(){return(0,a.jsx)("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50",children:(0,a.jsx)(l.c,{size:"lg",color:"success",label:"Loading..."})})}},26436:function(e,t,s){"use strict";var a=s(57437),l=s(34778),r=s(53581),n=s(2265);t.Z=e=>{let{avatarUrl:t,onFileSelect:s}=e,i=(0,n.useRef)(null);return(0,a.jsxs)("div",{className:"relative group ",children:[(0,a.jsx)(l.h,{className:"w-32 h-32",showFallback:!0,src:t||void 0}),(0,a.jsx)("button",{onClick:()=>{var e;null===(e=i.current)||void 0===e||e.click()},className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-full",type:"button",children:(0,a.jsx)(r.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("input",{ref:i,type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&s(a)},className:"hidden"})]})}},70273:function(e,t,s){"use strict";var a=s(57437),l=s(2265),r=s(42228),n=s(99394),i=s(80572),o=s(2694);t.Z=e=>{let{label:t,type:s,defaultValue:c}=e,[u,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(c||"");return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.Y,{label:t,type:s,value:m,onChange:e=>{h(e.target.value)},isDisabled:!u,fullWidth:!0}),(0,a.jsx)(n.A,{isIconOnly:!0,startContent:u?(0,a.jsx)(i.Z,{size:16}):(0,a.jsx)(o.Z,{size:16}),onClick:()=>{d(!u)},"aria-label":u?"Save":"Edit"})]})}},1077:function(e,t,s){"use strict";var a=s(57437),l=s(2265),r=s(9182),n=s(99394),i=s(80572),o=s(2694);t.Z=e=>{let{label:t,type:s,defaultValue:c}=e,[u,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(c||"");return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.Y,{label:t,type:s,value:m,onChange:e=>{h(e.target.value)},isDisabled:!u,fullWidth:!0}),(0,a.jsx)(n.A,{isIconOnly:!0,startContent:u?(0,a.jsx)(i.Z,{size:16}):(0,a.jsx)(o.Z,{size:16}),onClick:()=>{d(!u)},"aria-label":u?"Save":"Edit"})]})}},41436:function(e,t,s){"use strict";var a=s(57437),l=s(25151),r=s.n(l),n=s(99394),i=s(99376);t.Z=()=>{let e=(0,i.useRouter)(),t="/profile/tasker"===(0,i.usePathname)();return(0,a.jsx)("div",{className:"w-full bg-white rounded-lg shadow-sm p-4",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-8",children:[(0,a.jsx)("h1",{className:"".concat(r().className," text-4xl text-green-500 font-semibold"),children:"MY PROFILE"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-8",children:[(0,a.jsx)(n.A,{radius:"md",color:"success",variant:"solid",className:"".concat(r().className," text-lg text-white"),onClick:()=>e.push(t?"/profile":"/profile/tasker"),children:t?"Change to Customer Profile":"Change to Tasker Profile"}),(0,a.jsx)(n.A,{radius:"md",color:"success",variant:"solid",className:"".concat(r().className," text-lg text-white"),onClick:()=>e.push("./"),children:"Save Changes"}),(0,a.jsx)(n.A,{radius:"md",color:"danger",variant:"bordered",className:"".concat(r().className," text-lg text-red-600"),children:"Delete Profile"})]})]})})}},3803:function(e,t,s){"use strict";var a=s(57437);s(2265);var l=s(8627),r=s(4922),n=s(99008),i=s(49089);let o=[{id:1,name:"John Doe",rating:5,comment:"Excellent behavior! Great!",date:"September 15, 2023"},{id:2,name:"Jane Smith",rating:4,comment:"Very professional.",date:"September 10, 2023"},{id:3,name:"Michael Brown",rating:5,comment:"Highly recommended!",date:"September 5, 2023"}];t.Z=()=>(0,a.jsxs)("div",{className:"text-black",children:[(0,a.jsx)(l.q,{x:4}),o.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)(r.w,{className:"text-black",children:(0,a.jsxs)(n.G,{children:[(0,a.jsx)("strong",{children:e.name}),(0,a.jsx)("p",{children:e.date}),(0,a.jsx)(l.q,{y:.5}),(0,a.jsx)("div",{className:"flex items-center text-black",children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,a.jsx)(i.QJe,{size:20,color:s<e.rating?"#f5a623":"#e4e4e4"},s))}),(0,a.jsx)(l.q,{y:.5}),(0,a.jsx)("p",{children:e.comment})]})}),(0,a.jsx)(l.q,{x:4})]},e.id))]})},61915:function(e,t,s){"use strict";s.d(t,{ProtectedRoute:function(){return o}});var a=s(57437),l=s(50835),r=s(99376),n=s(2265),i=s(47043);function o(e){let{children:t}=e,{isAuthenticated:s,user:o}=(0,l.CG)(e=>e.auth),c=(0,r.useRouter)(),u=(0,r.usePathname)(),d=["/admin","/admin/users","/admin/tasks","/admin/monitor"],{isTasker:m}=(0,l.CG)(e=>e.auth);return((0,n.useEffect)(()=>{if(s){let e=window.location.pathname;!m&&["/tasks","/taskmanage"].includes(e)&&c.replace("/becometasker")}else c.replace("/login");if(d.some(e=>u.startsWith(e))&&(null==o?void 0:o.role)!=="ADMIN"){c.replace("/");return}if((null==o?void 0:o.role)==="ADMIN"&&"/"===u){c.replace("/admin");return}},[s,o,u,c]),!s||d.some(e=>u.startsWith(e))&&(null==o?void 0:o.role)!=="ADMIN")?(0,a.jsx)(i.Z,{}):t}},11002:function(e,t,s){"use strict";s.d(t,{Dj:function(){return l},UR:function(){return i},YA:function(){return o},kS:function(){return r},uJ:function(){return n}});let a=(0,s(1455).oM)({name:"auth",initialState:{user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isTasker:!1},reducers:{setCredentials:(e,t)=>{let{user:s,token:a}=t.payload;e.user=s,e.accessToken=a.access_token,e.refreshToken=a.refresh_token,e.isAuthenticated=!0,s.tasker&&(e.isTasker=!0),localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("isTasker",e.isTasker.toString()),localStorage.setItem("accessToken",a.access_token),localStorage.setItem("refreshToken",a.refresh_token)},setisTaskers:(e,t)=>{e.isTasker=t.payload,localStorage.setItem("isTasker","true")},logout:e=>{e.user=null,e.accessToken=null,e.refreshToken=null,e.isTasker=!1,e.isAuthenticated=!1,localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("isTasker")},loginFailure:e=>{console.log("Login failed"),e.isAuthenticated=!1},initializeAuth:e=>{try{let t=localStorage.getItem("user"),s=localStorage.getItem("accessToken"),a=localStorage.getItem("refreshToken"),l=localStorage.getItem("isTasker");t&&s&&a?(e.user=JSON.parse(t),e.accessToken=s,e.refreshToken=a,e.isAuthenticated=!0):e.isAuthenticated=!1,(null==l?void 0:l.toString())==="true"&&(e.isTasker="true"===l)}catch(t){console.error("Error initializing auth from localStorage:",t),e.isAuthenticated=!1}}}}),{setCredentials:l,logout:r,initializeAuth:n,loginFailure:i,setisTaskers:o}=a.actions;t.ZP=a.reducer},50835:function(e,t,s){"use strict";s.d(t,{CG:function(){return o},TL:function(){return i},h:function(){return n}});var a=s(1455),l=s(68575),r=s(11002);let n=(0,a.xC)({reducer:{auth:r.ZP},middleware:e=>e({serializableCheck:!1})}),i=l.I0,o=l.v9}},function(e){e.O(0,[372,7699,707,7405,4218,8187,2952,1554,8083,9897,9863,4721,4958,3522,9062,2572,2971,2117,1744],function(){return e(e.s=94982)}),_N_E=e.O()}]);